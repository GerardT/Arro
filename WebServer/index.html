<!DOCTYPE html>
<meta charset="UTF-8"> 
<html lang="en">
  <head>
    <script src="https://polygit.org/components/webcomponentsjs/webcomponents-loader.js"></script>
    <link rel="import" href="bower_components/paper-button/paper-button.html">
    <link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
    <link rel="import" href="bower_components/paper-slider/paper-slider.html">
    <link rel="import" href="bower_components/paper-progress/paper-progress.html">
    <!-- Import all elements here -->
    <link rel="import" href="arro-slider.html">
    <link rel="import" href="arro-toggle-button.html">
    <link rel="import" href="arro-radio-button.html">
    <link rel="import" href="arro-check-box.html">
    <link rel="import" href="arro-progress.html">
    <style>
    </style>
  </head>
  <body>
      <!-- Instantiate all elements here -->
<arro-radio-button id=".main.aComposite.aRadioButton" name="Test" data='[{"name":"Forward","label":"Forward"},{"name":"Stop","label":"Stop"},{"name":"Reverse","label":"Reverse"}]'>  </arro-radio-button>
<arro-slider id=".main.aComposite.aSliderInput" name="No Name"></arro-slider>
<arro-toggle-button id=".main.aComposite.aToggleButton" name="No Name"></arro-toggle-button>
<arro-progress id=".main.aProgressOutput" name="No Name"></arro-progress>

    <script type="text/javascript">
    // use vanilla JS because why not
    mySocket = 0; 
    window.addEventListener("load", function() {
        // create websocket instance
        mySocket = new WebSocket("ws://" + location.host + "/ws");
        // Display output
        // add event listener reacting when message is received
        mySocket.onmessage = function (event) {
            json = JSON.parse(event.data);
            address = json.address;
            var web_component = document.getElementById(address);
            web_component.value = json.data.value;
        };
    });
    </script>
  </body>
</html>
