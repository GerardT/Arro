<!DOCTYPE html>
 <meta charset="UTF-8"> 
<html lang="en">
  <head>
    <script src="https://polygit.org/components/webcomponentsjs/webcomponents-loader.js"></script>

    <link rel="import" href="bower_components/paper-button/paper-button.html">
    <link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
    <link rel="import" href="bower_components/paper-slider/paper-slider.html">
    <link rel="import" href="bower_components/paper-progress/paper-progress.html">

    <!-- Import all elements here -->
    <link rel="import" href="arro-slider.html">
    <link rel="import" href="arro-progress.html">


    <style>
    </style>


  </head>
  <body>
    <paper-button>
      <iron-icon icon="favorite"></iron-icon>
      custom button content
    </paper-button>
    <paper-checkbox checked> On </paper-checkbox>
    <paper-checkbox> Off </paper-checkbox>

    <!-- Instantiate all elements here -->
    <arro-slider id=".main.aUiUserInput" name="Test input"></arro-slider>
    <arro-progress id=".main.aUiUserDisplay" name="Test output" value="0"> </arro-progress>


    <script type="text/javascript">
    // use vanilla JS because why not
    mySocket = 0; 
    window.addEventListener("load", function() {
        
        // create websocket instance
        //var mySocket = new WebSocket("ws://localhost:8080/ws");
        mySocket = new WebSocket("ws://" + location.host + "/ws");
        
        // Display output
        // add event listener reacting when message is received
        mySocket.onmessage = function (event) {
            json = JSON.parse(event.data);
            address = json.address;
            // var output = document.getElementById("output");
            var web_component = document.getElementById(address);
            // put text into our output div
            // output.textContent = event.data;
            web_component.value = json.data.value;
        };


    });
    </script>

  </body>
</html>

